/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ZinePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  zineFolder: "zines"
};
var ZinePlugin = class extends import_obsidian.Plugin {
  toKebabCase(str) {
    return str.toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/(^-|-$)/g, "");
  }
  async onload() {
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("dice", "Sample Plugin", (evt) => {
      new import_obsidian.Notice("This is a notice!");
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addCommand({
      id: "open-sample-modal-simple",
      name: "Open sample modal (simple)",
      callback: () => {
        new SampleModal(this.app).open();
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new SampleModal(this.app).open();
          }
          return true;
        }
      }
    });
    this.addCommand({
      id: "create-new-zine",
      name: "Create New Zine",
      callback: () => {
        new CreateZineModal(this.app, this).open();
      }
    });
    this.addCommand({
      id: "create-tell-me-about-zine",
      name: "Create a Tell me About Zine",
      callback: () => {
        new CreateTellMeAboutZineModal(this.app, this).open();
      }
    });
    this.addSettingTab(new ZineSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async createZinePages(zineInfo) {
    const folderPath = `${this.settings.zineFolder}/${zineInfo.title}`;
    const kebabTitle = this.toKebabCase(zineInfo.title);
    const contentPages = zineInfo.pages - 3;
    try {
      await this.app.vault.createFolder(folderPath);
    } catch (error) {
    }
    const createYamlFrontMatter = (pageType) => {
      return `---
size: ${zineInfo.size}
type: ${pageType}
tags: [zine, ${kebabTitle}]
---

`;
    };
    if (zineInfo.pages === 8) {
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-cover.md`,
        createYamlFrontMatter("cover") + `# Tell me About

## ${zineInfo.subject}

Size: ${zineInfo.size}
Pages: ${zineInfo.pages}`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-index.md`,
        createYamlFrontMatter("index") + `# Index

1. [[${kebabTitle}-cover|Tell me About]]
2. [[${kebabTitle}-what-is-it|So... what is it?]]
3. [[${kebabTitle}-why-love-it|Why do you love it?]]
4. [[${kebabTitle}-fun-fact|Give me one fun fact]]
5. [[${kebabTitle}-misconception|What's a common misconception]]
6. [[${kebabTitle}-what-else|What else should we know]]
7. [[${kebabTitle}-back-cover|Back Cover]]`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-what-is-it.md`,
        createYamlFrontMatter("content") + `# So... what is it?

*Start with the most essential information about your subject. What is it at its core? What makes it unique?*

`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-why-love-it.md`,
        createYamlFrontMatter("content") + `# Why do you love it?

*Share your personal connection and passion. What drew you to this subject? What keeps you interested?*

`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-fun-fact.md`,
        createYamlFrontMatter("content") + `# Give me one fun fact

*Share something surprising or unexpected that makes this subject interesting. What's a detail that most people don't know?*

`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-misconception.md`,
        createYamlFrontMatter("content") + `# What's a common misconception

*What do people often get wrong about this subject? What's the truth behind the myth?*

`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-what-else.md`,
        createYamlFrontMatter("content") + `# What else should we know

*What additional context or information would help someone understand this subject better? What's the bigger picture?*

`
      );
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-back-cover.md`,
        createYamlFrontMatter("back-cover") + `# Back Cover

*Add your contact information, social media, or any other details you'd like to share.*

`
      );
    } else {
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-cover.md`,
        createYamlFrontMatter("cover") + `# ${zineInfo.title}

## ${zineInfo.subject}

Size: ${zineInfo.size}
Pages: ${zineInfo.pages}`
      );
      let indexContent = `# Index

1. [[${kebabTitle}-cover|Cover]]
`;
      for (let i = 1; i <= contentPages; i++) {
        indexContent += `${i + 1}. [[${kebabTitle}-page-${i}|Page ${i}]]
`;
      }
      indexContent += `${zineInfo.pages}. [[${kebabTitle}-back-cover|Back Cover]]`;
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-index.md`,
        createYamlFrontMatter("index") + indexContent
      );
      for (let i = 1; i <= contentPages; i++) {
        await this.app.vault.create(
          `${folderPath}/${kebabTitle}-page-${i}.md`,
          createYamlFrontMatter("content") + `# Page ${i}

`
        );
      }
      await this.app.vault.create(
        `${folderPath}/${kebabTitle}-back-cover.md`,
        createYamlFrontMatter("back-cover") + `# Back Cover

`
      );
    }
    new import_obsidian.Notice(`Created new zine: ${zineInfo.title}`);
  }
};
var SampleModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var CreateZineModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.title = "";
    this.subject = "";
    this.size = "A4";
    this.pages = 4;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Create New Zine" });
    new import_obsidian.Setting(contentEl).setName("Title").addText((text) => text.setPlaceholder("Enter zine title").onChange((value) => this.title = value));
    new import_obsidian.Setting(contentEl).setName("Subject").addText((text) => text.setPlaceholder("Enter zine subject").onChange((value) => this.subject = value));
    new import_obsidian.Setting(contentEl).setName("Size").addDropdown((dropdown) => dropdown.addOption("A4", "A4").addOption("A5", "A5").addOption("Letter", "Letter").setValue(this.size).onChange((value) => this.size = value));
    new import_obsidian.Setting(contentEl).setName("Number of Pages").addDropdown((dropdown) => dropdown.addOption("4", "4 pages").addOption("8", "8 pages").addOption("16", "16 pages").addOption("32", "32 pages").addOption("64", "64 pages").setValue(this.pages.toString()).onChange((value) => {
      this.pages = parseInt(value);
    }));
    new import_obsidian.Setting(contentEl).addButton((button) => button.setButtonText("Create Zine").onClick(async () => {
      if (!this.title || !this.subject) {
        new import_obsidian.Notice("Please fill in all fields");
        return;
      }
      await this.plugin.createZinePages({
        title: this.title,
        subject: this.subject,
        size: this.size,
        pages: this.pages
      });
      this.close();
    }));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var CreateTellMeAboutZineModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.title = "";
    this.subject = "";
    this.size = "A4";
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Create a Tell me About Zine" });
    new import_obsidian.Setting(contentEl).setName("Title").addText((text) => text.setPlaceholder("Enter zine title").onChange((value) => this.title = value));
    new import_obsidian.Setting(contentEl).setName("Subject").addText((text) => text.setPlaceholder("Enter zine subject").onChange((value) => this.subject = value));
    new import_obsidian.Setting(contentEl).setName("Size").addDropdown((dropdown) => dropdown.addOption("A4", "A4").addOption("A5", "A5").addOption("Letter", "Letter").setValue(this.size).onChange((value) => this.size = value));
    new import_obsidian.Setting(contentEl).addButton((button) => button.setButtonText("Create Zine").onClick(async () => {
      if (!this.title || !this.subject) {
        new import_obsidian.Notice("Please fill in all fields");
        return;
      }
      await this.plugin.createZinePages({
        title: this.title,
        subject: this.subject,
        size: this.size,
        pages: 8
      });
      this.close();
    }));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var ZineSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Zine Folder").setDesc("The folder where zines will be created").addText((text) => text.setPlaceholder("Enter folder name").setValue(this.plugin.settings.zineFolder).onChange(async (value) => {
      this.plugin.settings.zineFolder = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBUZXh0Q29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcblxuaW50ZXJmYWNlIFppbmVTZXR0aW5ncyB7XG5cdHppbmVGb2xkZXI6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogWmluZVNldHRpbmdzID0ge1xuXHR6aW5lRm9sZGVyOiAnemluZXMnXG59XG5cbmludGVyZmFjZSBaaW5lSW5mbyB7XG5cdHRpdGxlOiBzdHJpbmc7XG5cdHN1YmplY3Q6IHN0cmluZztcblx0c2l6ZTogc3RyaW5nO1xuXHRwYWdlczogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaaW5lUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IFppbmVTZXR0aW5ncztcblxuXHRwcml2YXRlIHRvS2ViYWJDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gc3RyXG5cdFx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdFx0LnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKVxuXHRcdFx0LnJlcGxhY2UoLyheLXwtJCkvZywgJycpO1xuXHR9XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdkaWNlJywgJ1NhbXBsZSBQbHVnaW4nLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHQvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXG5cdFx0XHRuZXcgTm90aWNlKCdUaGlzIGlzIGEgbm90aWNlIScpO1xuXHRcdH0pO1xuXHRcdC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKCdteS1wbHVnaW4tcmliYm9uLWNsYXNzJyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdTdGF0dXMgQmFyIFRleHQnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tc2FtcGxlLW1vZGFsLXNpbXBsZScsXG5cdFx0XHRuYW1lOiAnT3BlbiBzYW1wbGUgbW9kYWwgKHNpbXBsZSknLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IFNhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gVGhpcyBhZGRzIGFuIGVkaXRvciBjb21tYW5kIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb24gb24gdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnc2FtcGxlLWVkaXRvci1jb21tYW5kJyxcblx0XHRcdG5hbWU6ICdTYW1wbGUgZWRpdG9yIGNvbW1hbmQnLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVkaXRvci5nZXRTZWxlY3Rpb24oKSk7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKCdTYW1wbGUgRWRpdG9yIENvbW1hbmQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyBUaGlzIGFkZHMgYSBjb21wbGV4IGNvbW1hbmQgdGhhdCBjYW4gY2hlY2sgd2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwIGFsbG93cyBleGVjdXRpb24gb2YgdGhlIGNvbW1hbmRcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXNhbXBsZS1tb2RhbC1jb21wbGV4Jyxcblx0XHRcdG5hbWU6ICdPcGVuIHNhbXBsZSBtb2RhbCAoY29tcGxleCknLFxuXHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdC8vIENvbmRpdGlvbnMgdG8gY2hlY2tcblx0XHRcdFx0Y29uc3QgbWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKG1hcmtkb3duVmlldykge1xuXHRcdFx0XHRcdC8vIElmIGNoZWNraW5nIGlzIHRydWUsIHdlJ3JlIHNpbXBseSBcImNoZWNraW5nXCIgaWYgdGhlIGNvbW1hbmQgY2FuIGJlIHJ1bi5cblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyBmYWxzZSwgdGhlbiB3ZSB3YW50IHRvIGFjdHVhbGx5IHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cblx0XHRcdFx0XHRpZiAoIWNoZWNraW5nKSB7XG5cdFx0XHRcdFx0XHRuZXcgU2FtcGxlTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBUaGlzIGNvbW1hbmQgd2lsbCBvbmx5IHNob3cgdXAgaW4gQ29tbWFuZCBQYWxldHRlIHdoZW4gdGhlIGNoZWNrIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZVxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgY29tbWFuZCB0byBjcmVhdGUgbmV3IHppbmVcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjcmVhdGUtbmV3LXppbmUnLFxuXHRcdFx0bmFtZTogJ0NyZWF0ZSBOZXcgWmluZScsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRuZXcgQ3JlYXRlWmluZU1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgY29tbWFuZCB0byBjcmVhdGUgXCJUZWxsIG1lIEFib3V0XCIgemluZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NyZWF0ZS10ZWxsLW1lLWFib3V0LXppbmUnLFxuXHRcdFx0bmFtZTogJ0NyZWF0ZSBhIFRlbGwgbWUgQWJvdXQgWmluZScsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRuZXcgQ3JlYXRlVGVsbE1lQWJvdXRaaW5lTW9kYWwodGhpcy5hcHAsIHRoaXMpLm9wZW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBaaW5lU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcblx0XHQvLyBVc2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhpcyBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygnY2xpY2snLCBldnQpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cblx0YXN5bmMgY3JlYXRlWmluZVBhZ2VzKHppbmVJbmZvOiBaaW5lSW5mbykge1xuXHRcdGNvbnN0IGZvbGRlclBhdGggPSBgJHt0aGlzLnNldHRpbmdzLnppbmVGb2xkZXJ9LyR7emluZUluZm8udGl0bGV9YDtcblx0XHRjb25zdCBrZWJhYlRpdGxlID0gdGhpcy50b0tlYmFiQ2FzZSh6aW5lSW5mby50aXRsZSk7XG5cdFx0Y29uc3QgY29udGVudFBhZ2VzID0gemluZUluZm8ucGFnZXMgLSAzO1xuXHRcdFxuXHRcdC8vIENyZWF0ZSB6aW5lIGZvbGRlciBpZiBpdCBkb2Vzbid0IGV4aXN0XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXJQYXRoKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gRm9sZGVyIG1pZ2h0IGFscmVhZHkgZXhpc3Rcblx0XHR9XG5cblx0XHRjb25zdCBjcmVhdGVZYW1sRnJvbnRNYXR0ZXIgPSAocGFnZVR5cGU6IHN0cmluZykgPT4ge1xuXHRcdFx0cmV0dXJuIGAtLS1cbnNpemU6ICR7emluZUluZm8uc2l6ZX1cbnR5cGU6ICR7cGFnZVR5cGV9XG50YWdzOiBbemluZSwgJHtrZWJhYlRpdGxlfV1cbi0tLVxuXG5gO1xuXHRcdH07XG5cblx0XHQvLyBDaGVjayBpZiB0aGlzIGlzIGEgXCJUZWxsIG1lIEFib3V0XCIgdGVtcGxhdGUgKDggcGFnZXMpXG5cdFx0aWYgKHppbmVJbmZvLnBhZ2VzID09PSA4KSB7XG5cdFx0XHQvLyBDcmVhdGUgdGVtcGxhdGUgcGFnZXNcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShcblx0XHRcdFx0YCR7Zm9sZGVyUGF0aH0vJHtrZWJhYlRpdGxlfS1jb3Zlci5tZGAsXG5cdFx0XHRcdGNyZWF0ZVlhbWxGcm9udE1hdHRlcignY292ZXInKSArIGAjIFRlbGwgbWUgQWJvdXRcXG5cXG4jIyAke3ppbmVJbmZvLnN1YmplY3R9XFxuXFxuU2l6ZTogJHt6aW5lSW5mby5zaXplfVxcblBhZ2VzOiAke3ppbmVJbmZvLnBhZ2VzfWBcblx0XHRcdCk7XG5cblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShcblx0XHRcdFx0YCR7Zm9sZGVyUGF0aH0vJHtrZWJhYlRpdGxlfS1pbmRleC5tZGAsXG5cdFx0XHRcdGNyZWF0ZVlhbWxGcm9udE1hdHRlcignaW5kZXgnKSArIGAjIEluZGV4XFxuXFxuMS4gW1ske2tlYmFiVGl0bGV9LWNvdmVyfFRlbGwgbWUgQWJvdXRdXVxcbjIuIFtbJHtrZWJhYlRpdGxlfS13aGF0LWlzLWl0fFNvLi4uIHdoYXQgaXMgaXQ/XV1cXG4zLiBbWyR7a2ViYWJUaXRsZX0td2h5LWxvdmUtaXR8V2h5IGRvIHlvdSBsb3ZlIGl0P11dXFxuNC4gW1ske2tlYmFiVGl0bGV9LWZ1bi1mYWN0fEdpdmUgbWUgb25lIGZ1biBmYWN0XV1cXG41LiBbWyR7a2ViYWJUaXRsZX0tbWlzY29uY2VwdGlvbnxXaGF0J3MgYSBjb21tb24gbWlzY29uY2VwdGlvbl1dXFxuNi4gW1ske2tlYmFiVGl0bGV9LXdoYXQtZWxzZXxXaGF0IGVsc2Ugc2hvdWxkIHdlIGtub3ddXVxcbjcuIFtbJHtrZWJhYlRpdGxlfS1iYWNrLWNvdmVyfEJhY2sgQ292ZXJdXWBcblx0XHRcdCk7XG5cblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShcblx0XHRcdFx0YCR7Zm9sZGVyUGF0aH0vJHtrZWJhYlRpdGxlfS13aGF0LWlzLWl0Lm1kYCxcblx0XHRcdFx0Y3JlYXRlWWFtbEZyb250TWF0dGVyKCdjb250ZW50JykgKyBgIyBTby4uLiB3aGF0IGlzIGl0P1xcblxcbipTdGFydCB3aXRoIHRoZSBtb3N0IGVzc2VudGlhbCBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIHN1YmplY3QuIFdoYXQgaXMgaXQgYXQgaXRzIGNvcmU/IFdoYXQgbWFrZXMgaXQgdW5pcXVlPypcXG5cXG5gXG5cdFx0XHQpO1xuXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoXG5cdFx0XHRcdGAke2ZvbGRlclBhdGh9LyR7a2ViYWJUaXRsZX0td2h5LWxvdmUtaXQubWRgLFxuXHRcdFx0XHRjcmVhdGVZYW1sRnJvbnRNYXR0ZXIoJ2NvbnRlbnQnKSArIGAjIFdoeSBkbyB5b3UgbG92ZSBpdD9cXG5cXG4qU2hhcmUgeW91ciBwZXJzb25hbCBjb25uZWN0aW9uIGFuZCBwYXNzaW9uLiBXaGF0IGRyZXcgeW91IHRvIHRoaXMgc3ViamVjdD8gV2hhdCBrZWVwcyB5b3UgaW50ZXJlc3RlZD8qXFxuXFxuYFxuXHRcdFx0KTtcblxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxuXHRcdFx0XHRgJHtmb2xkZXJQYXRofS8ke2tlYmFiVGl0bGV9LWZ1bi1mYWN0Lm1kYCxcblx0XHRcdFx0Y3JlYXRlWWFtbEZyb250TWF0dGVyKCdjb250ZW50JykgKyBgIyBHaXZlIG1lIG9uZSBmdW4gZmFjdFxcblxcbipTaGFyZSBzb21ldGhpbmcgc3VycHJpc2luZyBvciB1bmV4cGVjdGVkIHRoYXQgbWFrZXMgdGhpcyBzdWJqZWN0IGludGVyZXN0aW5nLiBXaGF0J3MgYSBkZXRhaWwgdGhhdCBtb3N0IHBlb3BsZSBkb24ndCBrbm93PypcXG5cXG5gXG5cdFx0XHQpO1xuXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoXG5cdFx0XHRcdGAke2ZvbGRlclBhdGh9LyR7a2ViYWJUaXRsZX0tbWlzY29uY2VwdGlvbi5tZGAsXG5cdFx0XHRcdGNyZWF0ZVlhbWxGcm9udE1hdHRlcignY29udGVudCcpICsgYCMgV2hhdCdzIGEgY29tbW9uIG1pc2NvbmNlcHRpb25cXG5cXG4qV2hhdCBkbyBwZW9wbGUgb2Z0ZW4gZ2V0IHdyb25nIGFib3V0IHRoaXMgc3ViamVjdD8gV2hhdCdzIHRoZSB0cnV0aCBiZWhpbmQgdGhlIG15dGg/KlxcblxcbmBcblx0XHRcdCk7XG5cblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShcblx0XHRcdFx0YCR7Zm9sZGVyUGF0aH0vJHtrZWJhYlRpdGxlfS13aGF0LWVsc2UubWRgLFxuXHRcdFx0XHRjcmVhdGVZYW1sRnJvbnRNYXR0ZXIoJ2NvbnRlbnQnKSArIGAjIFdoYXQgZWxzZSBzaG91bGQgd2Uga25vd1xcblxcbipXaGF0IGFkZGl0aW9uYWwgY29udGV4dCBvciBpbmZvcm1hdGlvbiB3b3VsZCBoZWxwIHNvbWVvbmUgdW5kZXJzdGFuZCB0aGlzIHN1YmplY3QgYmV0dGVyPyBXaGF0J3MgdGhlIGJpZ2dlciBwaWN0dXJlPypcXG5cXG5gXG5cdFx0XHQpO1xuXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoXG5cdFx0XHRcdGAke2ZvbGRlclBhdGh9LyR7a2ViYWJUaXRsZX0tYmFjay1jb3Zlci5tZGAsXG5cdFx0XHRcdGNyZWF0ZVlhbWxGcm9udE1hdHRlcignYmFjay1jb3ZlcicpICsgYCMgQmFjayBDb3ZlclxcblxcbipBZGQgeW91ciBjb250YWN0IGluZm9ybWF0aW9uLCBzb2NpYWwgbWVkaWEsIG9yIGFueSBvdGhlciBkZXRhaWxzIHlvdSdkIGxpa2UgdG8gc2hhcmUuKlxcblxcbmBcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIE9yaWdpbmFsIG5vbi10ZW1wbGF0ZSBjcmVhdGlvbiBsb2dpY1xuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxuXHRcdFx0XHRgJHtmb2xkZXJQYXRofS8ke2tlYmFiVGl0bGV9LWNvdmVyLm1kYCxcblx0XHRcdFx0Y3JlYXRlWWFtbEZyb250TWF0dGVyKCdjb3ZlcicpICsgYCMgJHt6aW5lSW5mby50aXRsZX1cXG5cXG4jIyAke3ppbmVJbmZvLnN1YmplY3R9XFxuXFxuU2l6ZTogJHt6aW5lSW5mby5zaXplfVxcblBhZ2VzOiAke3ppbmVJbmZvLnBhZ2VzfWBcblx0XHRcdCk7XG5cblx0XHRcdC8vIENyZWF0ZSBpbmRleCB3aXRoIGxpbmtzXG5cdFx0XHRsZXQgaW5kZXhDb250ZW50ID0gYCMgSW5kZXhcXG5cXG4xLiBbWyR7a2ViYWJUaXRsZX0tY292ZXJ8Q292ZXJdXVxcbmA7XG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSBjb250ZW50UGFnZXM7IGkrKykge1xuXHRcdFx0XHRpbmRleENvbnRlbnQgKz0gYCR7aSArIDF9LiBbWyR7a2ViYWJUaXRsZX0tcGFnZS0ke2l9fFBhZ2UgJHtpfV1dXFxuYDtcblx0XHRcdH1cblx0XHRcdGluZGV4Q29udGVudCArPSBgJHt6aW5lSW5mby5wYWdlc30uIFtbJHtrZWJhYlRpdGxlfS1iYWNrLWNvdmVyfEJhY2sgQ292ZXJdXWA7XG5cblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShcblx0XHRcdFx0YCR7Zm9sZGVyUGF0aH0vJHtrZWJhYlRpdGxlfS1pbmRleC5tZGAsXG5cdFx0XHRcdGNyZWF0ZVlhbWxGcm9udE1hdHRlcignaW5kZXgnKSArIGluZGV4Q29udGVudFxuXHRcdFx0KTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gY29udGVudFBhZ2VzOyBpKyspIHtcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxuXHRcdFx0XHRcdGAke2ZvbGRlclBhdGh9LyR7a2ViYWJUaXRsZX0tcGFnZS0ke2l9Lm1kYCxcblx0XHRcdFx0XHRjcmVhdGVZYW1sRnJvbnRNYXR0ZXIoJ2NvbnRlbnQnKSArIGAjIFBhZ2UgJHtpfVxcblxcbmBcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxuXHRcdFx0XHRgJHtmb2xkZXJQYXRofS8ke2tlYmFiVGl0bGV9LWJhY2stY292ZXIubWRgLFxuXHRcdFx0XHRjcmVhdGVZYW1sRnJvbnRNYXR0ZXIoJ2JhY2stY292ZXInKSArIGAjIEJhY2sgQ292ZXJcXG5cXG5gXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdG5ldyBOb3RpY2UoYENyZWF0ZWQgbmV3IHppbmU6ICR7emluZUluZm8udGl0bGV9YCk7XG5cdH1cbn1cblxuY2xhc3MgU2FtcGxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLnNldFRleHQoJ1dvYWghJyk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG5jbGFzcyBDcmVhdGVaaW5lTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdHBsdWdpbjogWmluZVBsdWdpbjtcblx0dGl0bGU6IHN0cmluZyA9ICcnO1xuXHRzdWJqZWN0OiBzdHJpbmcgPSAnJztcblx0c2l6ZTogc3RyaW5nID0gJ0E0Jztcblx0cGFnZXM6IG51bWJlciA9IDQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogWmluZVBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnQ3JlYXRlIE5ldyBaaW5lJ30pO1xuXG5cdFx0Ly8gVGl0bGUgaW5wdXRcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZSgnVGl0bGUnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgemluZSB0aXRsZScpXG5cdFx0XHRcdC5vbkNoYW5nZSh2YWx1ZSA9PiB0aGlzLnRpdGxlID0gdmFsdWUpKTtcblxuXHRcdC8vIFN1YmplY3QgaW5wdXRcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZSgnU3ViamVjdCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciB6aW5lIHN1YmplY3QnKVxuXHRcdFx0XHQub25DaGFuZ2UodmFsdWUgPT4gdGhpcy5zdWJqZWN0ID0gdmFsdWUpKTtcblxuXHRcdC8vIFNpemUgc2VsZWN0aW9uXG5cdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoJ1NpemUnKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb24oJ0E0JywgJ0E0Jylcblx0XHRcdFx0LmFkZE9wdGlvbignQTUnLCAnQTUnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCdMZXR0ZXInLCAnTGV0dGVyJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2l6ZSlcblx0XHRcdFx0Lm9uQ2hhbmdlKHZhbHVlID0+IHRoaXMuc2l6ZSA9IHZhbHVlKSk7XG5cblx0XHQvLyBQYWdlcyBzZWxlY3Rpb25cblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZSgnTnVtYmVyIG9mIFBhZ2VzJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9uKCc0JywgJzQgcGFnZXMnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCc4JywgJzggcGFnZXMnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCcxNicsICcxNiBwYWdlcycpXG5cdFx0XHRcdC5hZGRPcHRpb24oJzMyJywgJzMyIHBhZ2VzJylcblx0XHRcdFx0LmFkZE9wdGlvbignNjQnLCAnNjQgcGFnZXMnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wYWdlcy50b1N0cmluZygpKVxuXHRcdFx0XHQub25DaGFuZ2UodmFsdWUgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGFnZXMgPSBwYXJzZUludCh2YWx1ZSk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIENyZWF0ZSBidXR0b25cblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0NyZWF0ZSBaaW5lJylcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGlmICghdGhpcy50aXRsZSB8fCAhdGhpcy5zdWJqZWN0KSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdQbGVhc2UgZmlsbCBpbiBhbGwgZmllbGRzJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmNyZWF0ZVppbmVQYWdlcyh7XG5cdFx0XHRcdFx0XHR0aXRsZTogdGhpcy50aXRsZSxcblx0XHRcdFx0XHRcdHN1YmplY3Q6IHRoaXMuc3ViamVjdCxcblx0XHRcdFx0XHRcdHNpemU6IHRoaXMuc2l6ZSxcblx0XHRcdFx0XHRcdHBhZ2VzOiB0aGlzLnBhZ2VzXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHR9KSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG5jbGFzcyBDcmVhdGVUZWxsTWVBYm91dFppbmVNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBaaW5lUGx1Z2luO1xuXHR0aXRsZTogc3RyaW5nID0gJyc7XG5cdHN1YmplY3Q6IHN0cmluZyA9ICcnO1xuXHRzaXplOiBzdHJpbmcgPSAnQTQnO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFppbmVQbHVnaW4pIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ0NyZWF0ZSBhIFRlbGwgbWUgQWJvdXQgWmluZSd9KTtcblxuXHRcdC8vIFRpdGxlIGlucHV0XG5cdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoJ1RpdGxlJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHppbmUgdGl0bGUnKVxuXHRcdFx0XHQub25DaGFuZ2UodmFsdWUgPT4gdGhpcy50aXRsZSA9IHZhbHVlKSk7XG5cblx0XHQvLyBTdWJqZWN0IGlucHV0XG5cdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoJ1N1YmplY3QnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgemluZSBzdWJqZWN0Jylcblx0XHRcdFx0Lm9uQ2hhbmdlKHZhbHVlID0+IHRoaXMuc3ViamVjdCA9IHZhbHVlKSk7XG5cblx0XHQvLyBTaXplIHNlbGVjdGlvblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcblx0XHRcdC5zZXROYW1lKCdTaXplJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9uKCdBNCcsICdBNCcpXG5cdFx0XHRcdC5hZGRPcHRpb24oJ0E1JywgJ0E1Jylcblx0XHRcdFx0LmFkZE9wdGlvbignTGV0dGVyJywgJ0xldHRlcicpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnNpemUpXG5cdFx0XHRcdC5vbkNoYW5nZSh2YWx1ZSA9PiB0aGlzLnNpemUgPSB2YWx1ZSkpO1xuXG5cdFx0Ly8gQ3JlYXRlIGJ1dHRvblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnQ3JlYXRlIFppbmUnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLnRpdGxlIHx8ICF0aGlzLnN1YmplY3QpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1BsZWFzZSBmaWxsIGluIGFsbCBmaWVsZHMnKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uY3JlYXRlWmluZVBhZ2VzKHtcblx0XHRcdFx0XHRcdHRpdGxlOiB0aGlzLnRpdGxlLFxuXHRcdFx0XHRcdFx0c3ViamVjdDogdGhpcy5zdWJqZWN0LFxuXHRcdFx0XHRcdFx0c2l6ZTogdGhpcy5zaXplLFxuXHRcdFx0XHRcdFx0cGFnZXM6IDhcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRcdH0pKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG5cbmNsYXNzIFppbmVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogWmluZVBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBaaW5lUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnWmluZSBGb2xkZXInKVxuXHRcdFx0LnNldERlc2MoJ1RoZSBmb2xkZXIgd2hlcmUgemluZXMgd2lsbCBiZSBjcmVhdGVkJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGZvbGRlciBuYW1lJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnppbmVGb2xkZXIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy56aW5lRm9sZGVyID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUEyRztBQVEzRyxJQUFNLG1C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
